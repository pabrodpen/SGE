CREATE TABLE sale_order_line (id SERIAL NOT NULL, order_id INTEGER NOT NULL, name TEXT NOT NULL, sequence INTEGER, invoice_status CHARACTER VARYING, price_unit NUMERIC NOT NULL, price_subtotal NUMERIC, price_tax DOUBLE PRECISION, price_total NUMERIC, price_reduce NUMERIC, price_reduce_taxinc NUMERIC, price_reduce_taxexcl NUMERIC, discount NUMERIC, product_id INTEGER, product_uom_qty NUMERIC NOT NULL, product_uom INTEGER, qty_delivered_method CHARACTER VARYING, qty_delivered NUMERIC, qty_delivered_manual NUMERIC, qty_to_invoice NUMERIC, qty_invoiced NUMERIC, untaxed_amount_invoiced NUMERIC, untaxed_amount_to_invoice NUMERIC, salesman_id INTEGER, currency_id INTEGER, company_id INTEGER, order_partner_id INTEGER, is_expense BOOLEAN, is_downpayment BOOLEAN, state CHARACTER VARYING, customer_lead DOUBLE PRECISION NOT NULL, display_type CHARACTER VARYING, product_packaging_id INTEGER, product_packaging_qty DOUBLE PRECISION, create_uid INTEGER, create_date TIMESTAMP(6) WITHOUT TIME ZONE, write_uid INTEGER, write_date TIMESTAMP(6) WITHOUT TIME ZONE, route_id INTEGER, PRIMARY KEY (id), CONSTRAINT sale_order_line_company_id_fkey FOREIGN KEY (company_id) REFERENCES "res_company" ("id") ON DELETE SET NULL, CONSTRAINT sale_order_line_create_uid_fkey FOREIGN KEY (create_uid) REFERENCES "res_users" ("id") ON DELETE SET NULL, CONSTRAINT sale_order_line_currency_id_fkey FOREIGN KEY (currency_id) REFERENCES "res_currency" ("id") ON DELETE SET NULL, CONSTRAINT sale_order_line_order_id_fkey FOREIGN KEY (order_id) REFERENCES "sale_order" ("id") ON DELETE CASCADE, CONSTRAINT sale_order_line_order_partner_id_fkey FOREIGN KEY (order_partner_id) REFERENCES "res_partner" ("id") ON DELETE SET NULL, CONSTRAINT sale_order_line_product_id_fkey FOREIGN KEY (product_id) REFERENCES "product_product" ("id") ON DELETE RESTRICT, CONSTRAINT sale_order_line_product_packaging_id_fkey FOREIGN KEY (product_packaging_id) REFERENCES "product_packaging" ("id") ON DELETE SET NULL, CONSTRAINT sale_order_line_product_uom_fkey FOREIGN KEY (product_uom) REFERENCES "uom_uom" ("id") ON DELETE RESTRICT, CONSTRAINT sale_order_line_route_id_fkey FOREIGN KEY (route_id) REFERENCES "stock_location_route" ("id") ON DELETE RESTRICT, CONSTRAINT sale_order_line_salesman_id_fkey FOREIGN KEY (salesman_id) REFERENCES "res_users" ("id") ON DELETE SET NULL, CONSTRAINT sale_order_line_write_uid_fkey FOREIGN KEY (write_uid) REFERENCES "res_users" ("id") ON DELETE SET NULL, CONSTRAINT sale_order_line_accountable_required_fields CHECK ((display_type IS NOT NULL) OR ((product_id IS NOT NULL) AND (product_uom IS NOT NULL))), CONSTRAINT sale_order_line_non_accountable_null_fields CHECK ((display_type IS NULL) OR ((product_id IS NULL) AND (price_unit = (0)::numeric) AND (product_uom_qty = (0)::numeric) AND (product_uom IS NULL) AND (customer_lead = (0)::double precision))));
COMMENT ON TABLE sale_order_line IS 'Sales Order Line';
COMMENT ON COLUMN sale_order_line.order_id IS 'Order Reference';
COMMENT ON COLUMN sale_order_line.name IS 'Description';
COMMENT ON COLUMN sale_order_line.sequence IS 'Sequence';
COMMENT ON COLUMN sale_order_line.invoice_status IS 'Invoice Status';
COMMENT ON COLUMN sale_order_line.price_unit IS 'Unit Price';
COMMENT ON COLUMN sale_order_line.price_subtotal IS 'Subtotal';
COMMENT ON COLUMN sale_order_line.price_tax IS 'Total Tax';
COMMENT ON COLUMN sale_order_line.price_total IS 'Total';
COMMENT ON COLUMN sale_order_line.price_reduce IS 'Price Reduce';
COMMENT ON COLUMN sale_order_line.price_reduce_taxinc IS 'Price Reduce Tax inc';
COMMENT ON COLUMN sale_order_line.price_reduce_taxexcl IS 'Price Reduce Tax excl';
COMMENT ON COLUMN sale_order_line.discount IS 'Discount (%)';
COMMENT ON COLUMN sale_order_line.product_id IS 'Product';
COMMENT ON COLUMN sale_order_line.product_uom_qty IS 'Quantity';
COMMENT ON COLUMN sale_order_line.product_uom IS 'Unit of Measure';
COMMENT ON COLUMN sale_order_line.qty_delivered_method IS 'Method to update delivered qty';
COMMENT ON COLUMN sale_order_line.qty_delivered IS 'Delivered Quantity';
COMMENT ON COLUMN sale_order_line.qty_delivered_manual IS 'Delivered Manually';
COMMENT ON COLUMN sale_order_line.qty_to_invoice IS 'To Invoice Quantity';
COMMENT ON COLUMN sale_order_line.qty_invoiced IS 'Invoiced Quantity';
COMMENT ON COLUMN sale_order_line.untaxed_amount_invoiced IS 'Untaxed Invoiced Amount';
COMMENT ON COLUMN sale_order_line.untaxed_amount_to_invoice IS 'Untaxed Amount To Invoice';
COMMENT ON COLUMN sale_order_line.salesman_id IS 'Salesperson';
COMMENT ON COLUMN sale_order_line.currency_id IS 'Currency';
COMMENT ON COLUMN sale_order_line.company_id IS 'Company';
COMMENT ON COLUMN sale_order_line.order_partner_id IS 'Customer';
COMMENT ON COLUMN sale_order_line.is_expense IS 'Is expense';
COMMENT ON COLUMN sale_order_line.is_downpayment IS 'Is a down payment';
COMMENT ON COLUMN sale_order_line.state IS 'Order Status';
COMMENT ON COLUMN sale_order_line.customer_lead IS 'Lead Time';
COMMENT ON COLUMN sale_order_line.display_type IS 'Display Type';
COMMENT ON COLUMN sale_order_line.product_packaging_id IS 'Packaging';
COMMENT ON COLUMN sale_order_line.product_packaging_qty IS 'Packaging Quantity';
COMMENT ON COLUMN sale_order_line.create_uid IS 'Created by';
COMMENT ON COLUMN sale_order_line.create_date IS 'Created on';
COMMENT ON COLUMN sale_order_line.write_uid IS 'Last Updated by';
COMMENT ON COLUMN sale_order_line.write_date IS 'Last Updated on';
COMMENT ON COLUMN sale_order_line.route_id IS 'Route';
COMMENT ON CONSTRAINT sale_order_line_accountable_required_fields ON sale_order_line IS 'CHECK(display_type IS NOT NULL OR (product_id IS NOT NULL AND product_uom IS NOT NULL))';
COMMENT ON CONSTRAINT sale_order_line_non_accountable_null_fields ON sale_order_line IS 'CHECK(display_type IS NULL OR (product_id IS NULL AND price_unit = 0 AND product_uom_qty = 0 AND product_uom IS NULL AND customer_lead = 0))';
